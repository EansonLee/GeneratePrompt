"""提示词模板模块

此模块包含所有用于提示词优化的模板。
"""

# 系统提示词
SYSTEM_PROMPT = """你是一个专业的提示词优化专家，精通各类提示词的优化和评估。
你需要根据上下文信息和历史数据，对提示词进行优化，使其更加清晰、完整、相关和一致。

在优化过程中，请特别注意：
1. 技术实现细节
   - 使用的框架和库版本
   - 代码组织和架构模式
   - 性能优化策略
   - 安全性考虑

2. 文件结构和组织
   - 清晰的目录层次
   - 模块化组织
   - 资源文件管理
   - 配置文件布局

3. 组件设计
   - 组件层次结构
   - 状态管理方案
   - 组件间通信
   - 复用策略

4. 数据流设计
   - 数据获取和缓存
   - 状态更新机制
   - 错误处理
   - 数据验证

5. UI/UX考虑
   - 页面布局
   - 响应式设计
   - 交互体验
   - 主题定制

6. API设计
   - 接口规范
   - 认证机制
   - 错误处理
   - 文档生成

7. 测试策略
   - 单元测试
   - 集成测试
   - E2E测试
   - 性能测试

8. 部署考虑
   - 构建配置
   - 环境变量
   - CI/CD流程
   - 监控方案
"""

# 优化模板
OPTIMIZATION_TEMPLATE = """请根据以下信息优化提示词：

原始提示词：
{original_prompt}

技术栈信息：
{tech_stack}

文件结构：
{file_structure}

输出路径：
{output_paths}

相似提示词：
{similar_prompts}

RAG上下文：
{rag_context}

最近历史：
{latest_history}

请生成一个优化后的提示词，必须包含以下所有部分：

## 1. 技术实现要求
- 前端框架和版本
- 后端技术选择
- 数据库方案
- 第三方库依赖
- 开发工具要求

## 2. 文件结构和组织
- 具体的目录结构
- 文件命名规范
- 模块划分方式
- 资源文件组织

## 3. 组件设计
- 组件层次结构
- 组件接口定义
- 状态管理方案
- 组件间通信机制

## 4. 数据流设计
- 数据获取方式
- 状态更新流程
- 缓存策略
- 错误处理机制

## 5. UI/UX设计
- 页面布局设计
- 响应式适配
- 交互设计
- 主题定制方案

## 6. API接口
- 接口定义
- 请求/响应格式
- 认证方式
- 错误处理

## 7. 测试要求
- 测试用例设计
- 测试覆盖要求
- 测试工具选择
- 性能测试指标

## 8. 性能优化
- 加载优化
- 渲染优化
- 数据优化
- 缓存策略

## 9. 安全考虑
- 数据安全
- 接口安全
- 认证授权
- 输入验证

## 10. 部署要求
- 构建配置
- 环境变量
- 部署流程
- 监控方案
"""

# RAG模板
RAG_TEMPLATE = """请根据以下信息生成增强的上下文：

原始提示词：
{prompt}

相似提示词：
{similar_prompts}

历史记录：
{history}

请生成一个增强的上下文，必须包含：

1. 技术要求和约束
   - 框架版本兼容性
   - 性能要求
   - 安全要求
   - 可维护性要求

2. 文件结构和组织方式
   - 目录结构
   - 命名规范
   - 模块划分
   - 资源管理

3. 最佳实践建议
   - 代码组织
   - 性能优化
   - 安全防护
   - 测试策略

4. 实现方案建议
   - 技术选型
   - 架构设计
   - 数据流设计
   - 部署方案

5. 注意事项和建议
   - 潜在问题
   - 优化建议
   - 安全提示
   - 维护建议
"""

# 评估模板
EVALUATION_TEMPLATE = """请评估以下提示词的质量：

提示词：
{prompt}

请提供以下评估结果（JSON格式）：
{{
    "scores": {{
        "clarity": "评分（0-1），衡量提示词的清晰度和可理解性",
        "completeness": "评分（0-1），衡量提示词的完整性和覆盖度",
        "relevance": "评分（0-1），衡量与任务的相关性和针对性",
        "consistency": "评分（0-1），衡量与项目规范的一致性",
        "structure": "评分（0-1），衡量工程目录结构的完整性和合理性"
    }},
    "feedback": [
        "对提示词质量的具体评价1",
        "对提示词质量的具体评价2",
        "..."
    ],
    "suggestions": [
        "具体的改进建议1",
        "具体的改进建议2",
        "..."
    ],
    "directory_structure_analysis": {{
        "completeness": "目录结构的完整性分析",
        "organization": "目录组织的合理性分析",
        "naming": "命名规范的符合度分析",
        "modularity": "模块化程度分析",
        "improvements": [
            "目录结构改进建议1",
            "目录结构改进建议2",
            "..."
        ]
    }}
}}

评估时请特别注意：
1. 技术细节的完整性
2. 文件结构的合理性
3. 组件设计的清晰度
4. 数据流说明的准确性
5. 安全性考虑的充分性
""" 